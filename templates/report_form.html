{% extends "base.html" %}

{% block title %}New Test Report{% endblock %}
{% block page_title %}<i class="fas fa-file-alt"></i> {{ 'Edit' if editing else 'New' }} Test Report{% endblock %}

{% block content %}
<form method="post" enctype="multipart/form-data" class="card">
  <div class="form-row">
    <div class="form-group">
      <label for="title">Title *</label>
      <input type="text" name="title" id="title" class="form-control" required
             value="{{ report.title if report else '' }}" placeholder="Report title / description">
    </div>
    <div class="form-group">
      <label for="report_number">Report Number</label>
      <input type="text" name="report_number" id="report_number" class="form-control"
             value="{{ report.report_number if report else '' }}">
    </div>
  </div>

  <div class="form-row">
    <div class="form-group">
      <label for="report_date">Report Date</label>
      <input type="date" name="report_date" id="report_date" class="form-control"
             value="{{ report.report_date if report and report.report_date else today }}">
    </div>
    <div class="form-group">
      <label for="source_company">Source Company</label>
      <input type="text" name="source_company" id="source_company" class="form-control"
             value="{{ report.source_company if report else '' }}" placeholder="Company that issued the report">
    </div>
  </div>

  <div class="form-group">
    <label for="notes">Notes</label>
    <textarea name="notes" id="notes" class="form-control">{{ report.notes if report else '' }}</textarea>
  </div>

  <div class="form-group">
    <label for="report_file">Upload Report File</label>
    <input type="file" name="report_file" id="report_file" class="form-control"
           accept=".pdf,.png,.jpg,.jpeg,.doc,.docx,.xls,.xlsx,.csv">
  </div>

  <div class="form-actions">
    <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Report</button>
    <a href="{{ url_for('test_reports') }}" class="btn btn-secondary">Cancel</a>
  </div>
</form>
{% endblock %}
